mets_adapter:
  environments:
    - id: prod
      name: Production
  image_repositories:
    - id: mets_adapter
      services:
        - id: mets-adapter
  name: METS Adapter
  role_arn: arn:aws:iam::760097843905:role/platform-ci

calm_adapter:
  environments:
    - id: prod
      name: Production
  image_repositories:
    - id: calm_adapter
      services:
        - id: calm-adapter
    - id: calm_deletion_checker
      services:
        - id: calm-deletion-checker
  name: Calm Adapter
  role_arn: arn:aws:iam::760097843905:role/platform-ci

sierra_adapter:
  environments:
    - id: prod
      name: Production
  image_repositories:
    - id: sierra_merger
      services:
        - id: bibs-merger
        - id: items-merger
        - id: holdings-merger
    - id: sierra_linker
      services:
        - id: items-linker
        - id: holdings-linker
    - id: sierra_reader
      services:
        - id: items-reader
        - id: bibs-reader
        - id: holdings-reader
  name: Sierra Adapter
  role_arn: arn:aws:iam::760097843905:role/platform-ci

reindexer:
  environments:
    - id: prod
      name: Production
  image_repositories:
    - id: reindex_worker
      services:
        - id: reindexer
  name: Reindexer
  role_arn: arn:aws:iam::760097843905:role/platform-ci

catalogue_pipeline:
  environments:
    - id: prod
      name: Production
    - id: stage
      name: Staging
  image_repositories:
    - id: id_minter
      services:
        - id: id-minter
    - id: inference_manager
      services:
        - id: image-inferrer
    - id: feature_inferrer
      services:
        - id: image-inferrer
    - id: palette_inferrer
      services:
        - id: image-inferrer
    - id: matcher
      services:
        - id: matcher
    - id: merger
      services:
        - id: merger
    - id: ingestor_images
      services:
        - id: image-ingestor
    - id: ingestor_works
      services:
        - id: work-ingestor
    - id: router
      services:
        - id: work-router
    - id: batcher
      services:
        - id: work-batcher
    - id: relation_embedder
      services:
        - id: work-relation-embedder
    - id: transformer_calm
      services:
        - id: calm-transformer
    - id: transformer_mets
      services:
        - id: mets-transformer
    - id: transformer_miro
      services:
        - id: miro-transformer
    - id: transformer_sierra
      services:
        - id: sierra-transformer
  name: Catalogue pipeline
  role_arn: arn:aws:iam::760097843905:role/platform-ci

catalogue_api:
  environments:
    - id: stage
      name: Staging
    - id: prod
      name: Production
  image_repositories:
    - id: api
      services:
        - id: catalogue-api
    - id: snapshot_generator
      services:
        - id: snapshot-generator
  name: Catalogue API
  account_id: '756629837203'
  role_arn: arn:aws:iam::756629837203:role/catalogue-ci
  aws_region_name: eu-west-1
